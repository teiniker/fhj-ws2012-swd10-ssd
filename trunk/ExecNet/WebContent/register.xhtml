<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:c="http://java.sun.com/jsp/jstl/core">

<ui:composition template="layout/_template_master.xhtml">

<ui:define name="title">#{msg.register_title}</ui:define>
	<ui:define name="content">
	   <f:view>
	   <h:form rendered="#{user.isLoggedIn() == false}">
	   <table>
	   		<tr>
		   		<td>
			   		<h:outputLabel for="username"
			   			value="#{msg.uname_enter}"
			   			required="True"/> 
			   	</td>
			   	<td>
			   		<h:inputText id="username" 
			   			value="#{userBean.username}"
			   			required="true"
			   			validatorMessage="#{msg.uname_valid}">
			   			<f:validateLength minimum="4" maximum="15"/>
			   		</h:inputText>
		   		</td>
		   	</tr>
		   	<tr>
		   		<td>
			   		<h:outputLabel for="email"
			   			value="#{msg.email_enter} "
			   			required="True"/> 
			   	</td>
			   	<td>
			   		<h:inputText id="email" 
			   			value="#{userBean.email}"
			   			required="true"
			   			validatorMessage="#{msg.email_valid}">
			   			<f:validateRegex pattern=".+@.+\..+"/>
			   		</h:inputText>
		   		</td>
		   	</tr>
		   	
		   	<tr>
			   	<td>
				   	<h:outputLabel for="culture"
				   			value="#{msg.culture_choose} "
				   			required="True"/> 
				</td>
				<td>   	
					<h:selectOneMenu id="culture" value="#{userBean.culture}">
						<f:selectItem id="si1" itemLabel="English" itemValue="en" />
						<f:selectItem id="si2" itemLabel="Deutsch" itemValue="de" />
					</h:selectOneMenu>
			   	</td>
		   	</tr>
		   	<tr>
		   		<td>
			   		<h:outputLabel for="password"
		   			value="#{msg.pass_enter}"
		   			required="True"/>
		   		</td>
		   		<td>
			   		<h:inputSecret id="password" 
			   			value="#{userBean.password}"
			   			required="true" 
			   			validatorMessage="#{msg.pass_valid}">
			   			<f:validateLength minimum="6"/>
			   		</h:inputSecret>
			   	</td>
			</tr>
			<tr><td/>
				<td> 
			   		<h:commandButton 
			   			action="#{userBean.registerNow}"
			   			value="#{msg.register_submit}"/>
			   	</td>
			</tr>
			<tr>
				<td colspan="2">
	   				<h:messages style="color: Red;"/>
	   			</td>
	   		</tr>
	   	</table>
	   	</h:form>
	   <c:if test="#{user.isLoggedIn() == true}">#{msg.user_loggedin}</c:if>
	   </f:view>
	</ui:define>
</ui:composition>
</html>