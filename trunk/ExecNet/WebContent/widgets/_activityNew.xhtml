<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html
    xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:c="http://java.sun.com/jsp/jstl/core"
    xmlns:a4j="http://richfaces.org/a4j"
    xmlns:rich="http://richfaces.org/rich">
    
    <body>
        <h:form>        
            <table>
                <tr>
                    <th> #{msg.activitys_add}</th>
                </tr>
                <tr>
                    <td>
                        <h:outputLabel for="text" value="#{msg.activityNewEdit_message}" required="True"/> 
                    </td>
                    <td>
                        <h:inputTextarea id="entry" value="#{activityPostBean.entry}" 
                            required="true" 
                            maxlength="255"
                            cols="100"
                            rows="10" />
                    </td>
                </tr>
                <tr>
                    <td>
                        <h:outputLabel for="datefrom" value="#{msg.activity_datefrom_text}" required="True"/> 
                    </td>
                    <td>
                        <a4j:outputPanel id="calendarfrom" layout="block">
                            <rich:calendar value="#{activityPostBean.datefrom}"
                                locale="#{activityPostBean.locale}"
                                popup="#{activityPostBean.popup}"/>
                        </a4j:outputPanel>
                    </td>
                </tr>
                <tr>
                    <td>
                        <h:outputLabel for="dateto" value="#{msg.activity_dateto_text}" required="True"/> 
                    </td>
                    <td>
                        <a4j:outputPanel id="calendarto" layout="block">
                            <rich:calendar value="#{activityPostBean.dateto}"
                                locale="#{activityPostBean.locale}"
                                popup="#{activityPostBean.popup}" />
                        </a4j:outputPanel>
                    </td>
                </tr>
                <tr>
                    <td>                 
                        <h:selectOneMenu value="#{activityPostBean.idCommunity}">
                            <f:selectItems value="#{activityPostBean.communities}" var="itemCommunitiy" itemValue="#{itemCommunitiy.id}" itemLabel="#{itemCommunitiy.name}" />
                        </h:selectOneMenu> 
                    </td>
                    <td> 
                        <c:choose>
                        <c:when test="not empty post">
                            <h:commandButton action="#{activityPostBean.updatePost(post)}" value="#{msg.post_submit}"/>
                        </c:when>
                        <c:otherwise>
                            <h:commandButton action="#{activityPostBean.addNow()}" value="#{msg.post_submit}"/>
                        </c:otherwise>
                        </c:choose>                            
                    </td>
                </tr>
                <tr>
                    <td colspan="2">
                        <h:messages style="color: Red;"/>     
                        <br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/>
                    </td>
                </tr>                           
            </table>    
        </h:form>
    </body>			
</html>